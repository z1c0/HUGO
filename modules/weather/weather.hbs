{{#section 'head'}}
  <link rel='stylesheet' href='/css/weather.css' />
  <link rel='stylesheet' href='/bower_components/weather-icons/css/weather-icons.min.css' />
{{/section}}

<div class='weather-info'>
  <h3><span data-bind="text: name"></span>, <span data-bind="text: description"></span></h3>
  <i class="wi" data-bind="css: icon"></i>
  <span class="temperature" data-bind="text: temp"></span><span class="temperature">Â°C</span>
</div>

{{#section 'scripts'}}
<script>
  $(function () {
    $(document).ready(function () {
      const viewModel = ko.mapping.fromJS({{{json fetched}}});
      ko.applyBindings(viewModel);
      setInterval(function () {
        $.getJSON("/weather/api", function (data) {
          ko.mapping.fromJS(data, viewModel);
        });
      }, 1000 * 60 * 5);
    });
  });  
</script>
{{/section}}